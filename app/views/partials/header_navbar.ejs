<nav class="navbar head navbar-expand-lg navbar-light">
    <div class="container-fluid">
        <a class="navbar-brand home-button" id="home-nav" href="/" style="color: #F5CE63;">
            <img src="/src/home.png" width="50" height="50" class="d-inline-block" alt="/">
            Waveform
        </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav" >
          <div class="d-block d-lg-none">
                    <% if(currentUser && currentUser.status === "user" ){ %>
                        <li class="nav-item">
                            <a href="/" class="user" id="home"><span ><i class="fas fa-home"></i></span> Home</a>
                        </li>
                        <li class="nav-item">
                        <a href="/favorite" class="user" id="favourite"><span class="material-icons">favorite</span>    Favourite</a>
                        </li>
                        <li class="nav-item">
                            <a href="/profile" class="user" id="profile">
                                <span >
                                    <% if(currentUser.profilePicture){ %>
                                        <img src="<%=currentUser.profilePicture%>" style="width: 2rem; height: 2rem;" alt="">
                                    <% } else{ %>
                                        <img src="/src/home.png" style="width: 2rem; height: 2rem;" alt="">
                                    <% } %>
                                </span> 
                                    <%=currentUser.name%>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/logout" class="user" id="logout-btn"><span class="material-icons" id="logout-logo">logout</span>Logout</a>
                        </li>
                    <% } else if(!currentUser){ %>
                        <li class="nav-item nav-transparent">
                            <i class="guest">Guest</i>
                        </li>
                        <li class="nav-item">
                            <a href="/login" class="guest" id="signup">Sign in/signup</a> 
                        </li>
                    <% } %>
                </div>
            <% if(currentUser && currentUser.status === "user" || !currentUser) {%>
                <% if(currentUser){ %>
                <li class="nav-item nav-transparent">
                    <li class="nav-item dropdown d-none d-lg-block">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="color: white;">
                        
                            <span >
                                <% if(currentUser.profilePicture){ %>
                                    <img src="<%=currentUser.profilePicture%>" style="width: 2rem; height: 2rem;" alt="">
                                <% } else{ %>
                                    <img src="/src/home.png" style="width: 2rem; height: 2rem;" alt="">
                                <% } %>
                            </span> 
                                <%=currentUser.name%>
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="/profile">Profile</a></li>
                        <li><a class="dropdown-item" href="/favorite">Favorite</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" id="logout-btn" href="/logout">Logout</a></li>
                        </ul>
                    </li>   

                </li>
                <% } %>
                <li class="nav-item nav-transparent">
                    <form class="form-inline " action="/search" method="post">
                        <input class="form-control mr-sm-2 form-rounded" id="search" name="keyword" type="search" placeholder= "&#xF002; Search for songs and artists" aria-label="Search">
                    </form>   
                </li> 

            <% } %>
            <% if(currentUser && currentUser.status === "manager" || currentUser && currentUser.status === "admin") {%>
        <li class="nav-item">
            <form class="form-inline">
                <a href="/logout" class="rounded-pill" style="text-align: center;" id="logout">logout</a>
            </form>
        </li>
            <% } %>
        </ul>
      </div>
    </div>
</nav>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
